<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatyni V2</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
</head>
<body>

    <div id="sidebar-overlay"></div>

    <div id="initial-view">
        <div class="main-content" id="mainContent">
            <h1 class="rgb-text">Bem vindo ao Chatyni V2</h1>
            <button id="startButton" class="rgb-button">Iniciar</button>
        </div>
    </div> 

    <div id="progressContainer" class="progress-container">
        <div id="progressBar" class="progress-bar"></div>
    </div>

    <button class="hamburger-menu" id="hamburgerMenu">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <div id="connection-status">
        <span class="status-dot"></span>
        <span class="status-text">Desconectado</span>
    </div>

    <nav id="sidebar" class="sidebar">
        <ul>
            <li id="nav-login"><a href="javascript:void(0);" data-target="loginContent"><span class="icon">üë§</span><span class="text" data-translate-key="navLogin">Login / Cadastrar</span></a></li>
            <li id="nav-chat"><a href="javascript:void(0);" data-target="chatContent"><span class="icon">üí¨</span><span class="text">Chat Global</span></a></li>
            <li id="nav-story"><a href="javascript:void(0);" data-target="storyContent"><span class="icon">üìñ</span><span class="text" data-translate-key="navStory">Hist√≥ria</span></a></li>
            <li><a href="#"><span class="icon">üìú</span><span class="text">Script</span></a></li>
            <li><a href="#"><span class="icon">üèÜ</span><span class="text">Cr√©ditos</span></a></li>
            <li><a href="#"><span class="icon">üöÄ</span><span class="text">Executores</span></a></li>
            <li id="nav-settings" class="hidden"><a href="javascript:void(0);" data-target="settingsContent"><span class="icon">üîß</span><span class="text" data-translate-key="navSettings">Configura√ß√µes</span></a></li>
            <li id="nav-logout" class="hidden"><a href="javascript:void(0);" data-action="logout"><span class="icon">üö™</span><span class="text" data-translate-key="navLogout">Logout</span></a></li>
            <li id="nav-admin" class="hidden"><a href="javascript:void(0);" data-target="adminContent"><span class="icon">üõ°Ô∏è</span><span class="text" data-translate-key="navAdmin">Painel Admin</span></a></li>
            <li id="nav-tester" class="hidden"><a href="javascript:void(0);" data-target="testerContent"><span class="icon">üß™</span><span class="text">Painel Tester</span></a></li>
        </ul>

    </nav>

    <main id="content-area"> <!-- Este √© o container principal para todos os pain√©is -->
        <!-- Painel de Login/Cadastro -->
        <div id="loginContent" class="content-panel">
            <!-- Formul√°rio de Login -->
            <form id="loginForm" class="auth-form show">
                <h1>Login</h1>
                <input type="email" id="loginEmail" placeholder="Email" required>
                <input type="password" id="loginPassword" placeholder="Senha" required>
                <button type="submit" class="rgb-button">Entrar</button>
                <p>N√£o tem uma conta? <a href="javascript:void(0);" id="showSignup">Cadastre-se</a> | <a href="javascript:void(0);" id="showRecover">Recuperar conta</a></p>
            </form>
            <!-- Formul√°rio de Cadastro -->
            <form id="signupForm" class="auth-form">
                <h1>Cadastro</h1>
                <input type="text" id="signupUsername" placeholder="Nome de usu√°rio" required>
                <input type="email" id="signupEmail" placeholder="Email" required>
                <input type="password" id="signupPassword" placeholder="Senha" required>
                <button type="submit" class="rgb-button">Criar Conta</button>
                <p>J√° tem uma conta? <a href="javascript:void(0);" id="showLogin">Fa√ßa login</a></p>
            </form>
        </div>

        <!-- Painel de Boas-Vindas (Logado) -->
        <div id="welcomeContent" class="content-panel">
            <h1>Bem vindo, <span id="welcomeUsername" class="rgb-highlight"></span></h1>
        </div>

        <!-- Painel da Hist√≥ria -->
        <div id="storyContent" class="content-panel">
            <h1>A Remasteriza√ß√£o do Chatyni</h1>
            <p>
                A jornada para o Chatyni V2 come√ßou nas <span class="rgb-highlight">cinzas do seu antecessor</span>, o V1.
                Nascido como um simples experimento, o Chatyni V1 provou que a ideia tinha potencial.
                No entanto, ele era um reflexo de sua pr√≥pria cria√ß√£o apressada: <span class="rgb-highlight">lento, com uma interface datada</span> e funcionalidades limitadas.
                A comunidade, embora pequena, via o que ele poderia se tornar e suas vozes foram o <span class="rgb-highlight">catalisador para a mudan√ßa</span>.
                N√£o bastava apenas aplicar um curativo; uma simples atualiza√ß√£o n√£o corrigiria as falhas fundamentais em sua arquitetura.
                A decis√£o foi tomada: uma <span class="rgb-highlight">remasteriza√ß√£o completa, do zero</span>.
                O objetivo era claro: criar uma plataforma que n√£o fosse apenas funcional, mas tamb√©m uma <span class="rgb-highlight">alegria de usar</span>.
                Velocidade, fluidez e um design moderno tornaram-se os pilares do novo projeto.
                Noites foram gastas reescrevendo cada linha de c√≥digo, otimizando o motor de renderiza√ß√£o para as <span class="rgb-highlight">anima√ß√µes suaves que voc√™ v√™ hoje</span>.
                O antigo sistema foi descartado em favor de uma base modular, permitindo a f√°cil integra√ß√£o de scripts e executores.
                A interface escura, o fundo animado e os efeitos RGB n√£o s√£o apenas enfeites.
                Eles representam a nova filosofia do Chatyni: uma <span class="rgb-highlight">ferramenta poderosa que tamb√©m √© esteticamente agrad√°vel</span>.
                Cada transi√ß√£o, cada gradiente, foi pensado para criar uma experi√™ncia imersiva.
                A barra de progresso que voc√™ viu n√£o simboliza apenas um carregamento.
                Ela representa a <span class="rgb-highlight">transi√ß√£o do velho para o novo</span>, o progresso que foi feito.
                A introdu√ß√£o do menu lateral e a separa√ß√£o da interface principal foram passos cruciais.
                Isso abriu caminho para um futuro onde novas funcionalidades podem ser adicionadas sem comprometer a estabilidade.
                O Chatyni V2 √©, portanto, mais do que uma sequ√™ncia.
                √â uma <span class="rgb-highlight">reimagina√ß√£o, uma promessa cumprida</span> √†queles que acreditaram no potencial inicial.
                √â a funda√ß√£o sobre a qual construiremos o futuro, juntos.
                Bem-vindo √† <span class="rgb-highlight">nova era</span>.
            </p>
        </div>

        <!-- Painel de Configura√ß√µes -->
        <div id="settingsContent" class="content-panel">
            <h1>Configura√ß√µes</h1>

            <div class="settings-container">
                <div class="settings-tabs">
                    <button class="settings-tab-btn active" data-tab="profile">Perfil</button>
                    <button class="settings-tab-btn" data-tab="security">Seguran√ßa</button>
                    <button class="settings-tab-btn" data-tab="appearance">Apar√™ncia</button>
                </div>

                <!-- Aba de Perfil -->
                <div class="settings-tab-content active" id="tab-profile">
                    <div class="profile-pic-container">
                        <img src="https://via.placeholder.com/120" alt="Foto de Perfil" id="profilePic">
                        <input type="file" id="profilePicInput" class="hidden" accept="image/*">
                        <button class="change-pic-btn" title="Alterar foto" data-translate-key="settingsProfileChange"></button>
                    </div>
                    <div class="setting-group">
                        <label for="username-change">Nome de Usu√°rio</label>
                        <div class="input-with-button">
                            <input type="text" id="username-change" placeholder="Seu nome aqui">
                            <button id="saveUsernameBtn" class="setting-save-btn">Salvar</button>
                        </div>
                    </div>
                </div>

                <!-- Aba de Seguran√ßa -->
                <div class="settings-tab-content" id="tab-security">
                    <div class="setting-group">
                        <label>Alterar Senha</label>
                        <input type="password" id="currentPassword" placeholder="Senha atual">
                        <input type="password" id="newPassword" placeholder="Nova senha">
                        <input type="password" id="confirmNewPassword" placeholder="Confirmar nova senha">
                        <button id="savePasswordBtn" class="setting-save-btn full-width">Salvar Nova Senha</button>
                    </div>
                </div>

                <!-- Aba de Apar√™ncia -->
                <div class="settings-tab-content" id="tab-appearance">
                    <div class="setting-group">
                        <label>Tema e Idioma</label>
                        <div class="setting-item">
                            <label for="themeToggle" data-translate-key="settingsTheme">Modo Escuro</label>
                            <label class="switch"><input type="checkbox" id="themeToggle"><span class="slider round"></span></label>
                        </div>
                        <div class="setting-item">
                            <label for="languageSelector" data-translate-key="settingsLanguage">Idioma</label>
                            <select id="languageSelector"><option value="pt">Portugu√™s</option><option value="en">English</option></select>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Painel de Recupera√ß√£o de Conta -->
        <div id="recoverContent" class="content-panel">
            <form id="recoverForm" class="auth-form show">
                <h1>Recuperar Conta</h1>
                <p class="recover-text">Insira seu email para receber as instru√ß√µes de recupera√ß√£o.</p>
                <input type="email" placeholder="Email" required>
                <button type="submit" class="rgb-button">Enviar</button>
                <p><a href="javascript:void(0);" id="backToLogin">Voltar para o login</a></p>
            </form>
        </div>

        <!-- Painel do Chat Global -->
        <div id="chatContent" class="content-panel">
            <!-- Formul√°rio para inserir nome do Roblox -->
            <div id="roblox-login-view">
                <form id="robloxUsernameForm" class="auth-form show">
                    <h1>Entrar no Chat Global</h1>
                    <p>Digite seu nome de usu√°rio do Roblox para usar seu avatar como foto de perfil.</p>
                    <input type="text" id="robloxUsernameInput" placeholder="Nome de usu√°rio do Roblox" required>
                    <button type="submit" class="rgb-button">Buscar e Entrar</button>
                </form>
            </div>
            <!-- Visualiza√ß√£o do Chat -->
            <div id="chat-view" class="hidden">
                <h1>Chat Global</h1>
                <div id="chat-messages"></div>
                <form id="chat-form">
                    <input type="text" id="chat-input" placeholder="Digite sua mensagem..." autocomplete="off" required>
                    <button type="submit">Enviar</button>
                </form>
            </div>
        </div>

        <!-- Painel de Admin -->
        <div id="adminContent" class="content-panel">
            <h1>Painel de Administra√ß√£o</h1>
            <p>Gerenciamento de usu√°rios do sistema.</p>
            <div class="admin-panel-layout">
                <div class="user-list-container">
                    <h2>Lista de Usu√°rios</h2>
                    <table class="user-table">
                        <thead>
                            <tr>
                                <th>Usu√°rio</th>
                                <th>IP</th>
                                <th>A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody id="user-table-body">
                            <!-- Os usu√°rios registrados ser√£o inseridos aqui pelo JavaScript -->
                        </tbody>
                    </table>
                </div>
                <div class="ip-ban-container">
                    <h2>Gerenciamento de IP</h2>
                    <form id="ipBanForm">
                        <input type="text" id="ipBanInput" placeholder="Digite o IP para banir/desbanir" required>
                        <button type="submit" class="admin-btn ban">Banir/Desbanir IP</button>
                    </form>
                    <h3>IPs Banidos Atualmente:</h3>
                    <ul id="bannedIpList">
                        <!-- Lista ser√° preenchida por JS -->
                    </ul>
                </div>
            </div>
            <div class="admin-actions-extra">
                <button id="impersonateTesterBtn" class="admin-btn promote">Entrar na conta Tester</button>
            </div>
        </div>

        <!-- Painel de Banimento -->
        <div id="bannedContent" class="content-panel">
            <div class="auth-form show">
                <h1>Voc√™ Foi Banido</h1>
                <p>Sua conta foi suspensa.</p>
                <div class="ban-details">
                    <p><strong>Banido por:</strong> <span id="bannedBy"></span></p>
                    <p><strong>Motivo:</strong> <span id="banReason"></span></p>
                    <p><strong>O ban expira em:</strong> <span id="banExpires"></span></p>
                </div>
            </div>
        </div>

        <!-- Painel Tester -->
        <div id="testerContent" class="content-panel">
            <form id="sendImageForm" class="auth-form show">
                <h1>Painel Tester</h1>
                <p>Ferramentas especiais para testers.</p>
                <label for="imageUrlInput">Enviar Imagem no Chat Global</label>
                <input type="url" id="imageUrlInput" placeholder="https://exemplo.com/imagem.png" required>
                <button type="submit" class="rgb-button">Enviar Imagem</button>
            </form>
            <form id="kickUserForm" class="auth-form show" style="margin-top: 20px;">
                <h1>Ferramentas de Modera√ß√£o</h1>
                <label for="kickIpInput">Kickar Usu√°rio por IP (em tempo real)</label>
                <input type="text" id="kickIpInput" placeholder="127.0.0.1" required>
                <button type="submit" class="rgb-button">Kickar Usu√°rio</button>
            </form>
        </div>

        <!-- Painel de Desbanimento/Reativa√ß√£o -->
        <div id="unbannedContent" class="content-panel">
            <div class="auth-form show">
                <h1>Voc√™ foi Desbanido!</h1>
                <p>Sua conta est√° pronta para ser reativada.</p>
                <button id="reactivateAccountBtn" class="rgb-button">Clique aqui para reativar sua conta</button>
            </div>
        </div>
    </main>

    <!-- Modal Gen√©rico -->
    <div id="modal-overlay" class="hidden">
        <div id="modal-container">
            <h2 id="modal-title"></h2>
            <div id="modal-content"></div>
            <div id="modal-actions">
                <button id="modal-cancel-btn" class="modal-btn">Cancelar</button>
                <button id="modal-confirm-btn" class="modal-btn primary">Confirmar</button>
            </div>
        </div>
    </div>

    <script src="client.js" defer></script>

</body>
</html>